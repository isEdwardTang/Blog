---
layout: post
title:  "代码重构"
categories: coding
tags: CodeRefactoring coding
author: Edward
---

* content
{:toc}

代码重构是指在不改变代码的外部行为情况下而修改源代码以增加可读性或者简化结构而不影响输出结果，在代码量逐渐增多或者需求不断变化时，特别注意Code refactoring，下面是我在编程过程中关于代码重构的一些经验总结。





## 一、重构技巧

- 提取方法：将大段代码中的一部分提取后，构成一个新方法，特别是当代码量多时，将代码分割成若干模块，每个模块抽取成一个方法

- 重复代码提取：将重复代码提取出一个方法

- 使用基类：将多个类/函数共用的类型抽象出可以公用的基类），然后利用多态性追加每个类/函数需要的特殊函数

- 使用工具类：把多个类同时用到的方法抽取到工具类中

- 优化嵌套条件：当含有多层嵌套条件，且只有一个是正确时，使用卫语句，它的核心思想是，将不满足某些条件的情况放在方法前面，并及时跳出方法，以免对后面的判断造成影响；无法使用卫语句进行优化时，而应该是将条件分支合并，以此来达到代码清晰的目的。

- 判断条件的重构：有时候，判断语句比较复杂，考虑把它放到单独的一个方法中

- 为空的判断：使用工具类判断，比如StringUtils，CollectionUtils

- 使用反射：当多个方法的参数和对象有关，考虑使用反射重构。

- 使用Map：当参数含有多个，且不想包装成对象时，使用map包装；同时，返回多个值时，也可以使用Map

